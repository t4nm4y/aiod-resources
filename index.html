<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enable Strike-through Price On Collection Product Cards</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        h4 {
            color: #8e44ad;
            margin-top: 20px;
        }
        .support-box {
            background-color: #e8f4f8;
            border: 2px solid #3498db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 16px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        .inline-code {
            background-color: #f1f3f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }
        ol, ul {
            margin: 15px 0;
            padding-left: 30px;
        }
        li {
            margin: 8px 0;
        }
        strong {
            color: #2c3e50;
            font-weight: 600;
        }
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        hr {
            border: none;
            height: 2px;
            background: linear-gradient(to right, #3498db, transparent);
            margin: 30px 0;
        }
    </style>
</head>
<body>
    <h1>Enable Strike-through Price On Collection Product Cards</h1>

    <div class="support-box">
        <h2>Getting Help</h2>
        <p>We strongly recommend contacting our support team for step-by-step guidance. You can:</p>
        <ul>
            <li>Use the <strong>Live chat</strong> button at the bottom left of your screen</li>
            <li>Email us at <strong>aiod-app@dtcdevelopers.org</strong></li>
        </ul>
        <p>If you prefer to follow the setup yourself, use the instructions below.</p>
    </div>

    <hr>

    <h2>Setup Instructions</h2>

    <h3>Step 1: Create the Price Crossout Snippet</h3>

    <ol>
        <li>Navigate to your <strong>store theme code editor</strong></li>
        <li>Right-click on the <strong>"snippets"</strong> folder</li>
        <li>Click <strong>"New file"</strong></li>
        <li>Name the file: <span class="inline-code">aiod-price-crossout.liquid</span></li>
        <li>Paste the following code into the newly created file:</li>
    </ol>

    <div class="code-block">
{%- liquid 
  assign target = product 
  assign price = target.price | default: 199 
  assign available = target.available | default: false 
  assign aiod_auto_discounted_price = target.price 
  assign original_display_price = target.price 
-%}

{%- unless target == null -%}
  {%- if available -%}
    &lt;div product-id="{{ product.id }}" 
         aiod-product-collections="{{ product.collections | map: 'id' | join: ',' }}" 
         aiod-product-variants="{{ product.variants | map: 'id' | join: ',' }}" 
         class="aiod-card-price-container price"&gt;
      
      &lt;span class="price-item price-item-regular aiod-original-price"&gt;
        {% if settings.currency_code_enabled %}
          {{ original_display_price | money_with_currency }}
        {% else %}
          {{ original_display_price | money }}
        {% endif %}
      &lt;/span&gt;
      
      &lt;span class="price-item price-item-sale aiod-discounted-price"&gt;&lt;/span&gt;
      &lt;span class="aiod-discount-badge"&gt;&lt;/span&gt;
    &lt;/div&gt;

    &lt;script&gt;
      function hideOriginalProductPrice{{ product.id }}() {
        const aiodPriceContainer = document.querySelector(".aiod-card-price-container[product-id='{{ product.id }}']");
        const parentContainer = aiodPriceContainer.closest('.card-information');
        
        if(parentContainer){
          // Remove ALL original price elements
          const originalPrices = parentContainer.querySelectorAll('div.price:not(.aiod-card-price-container)');
          originalPrices.forEach(price =&gt; price.remove());
        }
        
        const wholeCardParentContainer = aiodPriceContainer.closest('.card-wrapper');
        if(wholeCardParentContainer){
          wholeCardParentContainer.classList.add('aiod-product-card-wrapper');
        }
      }

      // Execute immediately after DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', hideOriginalProductPrice{{ product.id }});
      } else {
        hideOriginalProductPrice{{ product.id }}();
      }
    &lt;/script&gt;
  {%- endif -%}
{% endunless %}
    </div>

    <ol start="6">
        <li>Click <strong>"Save"</strong></li>
    </ol>

    <h3>Step 2: Add the Snippet to Your Theme</h3>

    <h4>For Official Shopify Themes:</h4>

    <ol>
        <li>In the same <strong>"snippets"</strong> folder, locate and open <span class="inline-code">card-product.liquid</span></li>
        <li>Use the search function:
            <ul>
                <li><strong>Mac</strong>: Press <span class="inline-code">Command+F</span></li>
                <li><strong>Windows</strong>: Press <span class="inline-code">Ctrl+F</span></li>
            </ul>
        </li>
        <li>Search for: <span class="inline-code">render 'price'</span></li>
        <li>You should find 2 instances of this line</li>
        <li><strong>Below each line</strong>, paste the following code:</li>
    </ol>

    <div class="code-block">
{% render 'aiod-price-crossout', product: card_product %}
    </div>

    <ol start="6">
        <li>Click <strong>"Save"</strong></li>
    </ol>

    <h4>For Custom/Third-party Themes:</h4>

    <p>If you're using a custom or third-party theme, you need to:</p>

    <ol>
        <li>Identify the file that renders your product collection pages</li>
        <li>Add the following line in the appropriate location:</li>
    </ol>

    <div class="code-block">
{% render 'aiod-price-crossout', product: card_product %}
    </div>

    <div class="warning">
        <strong>Need help?</strong> Contact our support team - we'll help you identify the correct file and placement.
    </div>

    <hr>

    <h2>Final Step: Configure App Blocks</h2>

    <p>After completing the code setup:</p>

    <ol>
        <li>Open the <strong>AIOD app</strong></li>
        <li>Click the <strong>"Add"</strong> buttons to add app blocks</li>
        <li>Add blocks to <strong>all pages</strong> where you want to display strike-through pricing</li>
    </ol>

    <hr>

    <div class="support-box">
        <h2>Support</h2>
        <p>For any questions or assistance with setup, please contact our support team:</p>
        <ul>
            <li><strong>Live Chat</strong>: Use the chat button at the bottom left of your screen</li>
            <li><strong>Email</strong>: aiod-app@dtcdevelopers.org</li>
        </ul>
        <p>We're here to help you get set up quickly and correctly!</p>
    </div>
</body>
</html>
